webpackJsonp([1],{2:function(t,e){"use strict";function n(t,e,n){function o(t,n){return sessionStorage.setItem("Authorization",t),$http.defaults.headers.Authorization=t,e&&e(n)}return sessionStorage.getItem("Authorization")?o(sessionStorage.getItem("Authorization")):void $http.post(_+"/v1/open/getSessionId",{code:t}).then(function(t){return o(t.data&&t.data.sessionId,t)}).catch(function(t){return g("当前会话已过期"),n&&n(t)})}function o(t){$http.defaults.headers.Authorization=t}function r(t){return sessionStorage.getItem("Authorization")&&o(sessionStorage.getItem("Authorization")),$http.get(_+"/user/info",t).then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})}function i(t){return sessionStorage.getItem("Authorization")&&o(sessionStorage.getItem("Authorization")),$http.post(_+"/annualTicket/order/add",t).then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})}function a(t){return sessionStorage.getItem("Authorization")&&o(sessionStorage.getItem("Authorization")),$http.get(_+"/annualTicket/order/details/"+t+"?"+Math.random()).then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})}function s(t){return sessionStorage.getItem("Authorization")&&o(sessionStorage.getItem("Authorization")),$http.post(_+"/v1/open/pay",t).then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})}function u(t){return sessionStorage.getItem("Authorization")&&o(sessionStorage.getItem("Authorization")),$http.post(_+"/annualTicket/order/cancel",t).then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})}function c(t){return sessionStorage.getItem("Authorization")&&o(sessionStorage.getItem("Authorization")),$http.post(_+"/annualTicket/order/delete",t).then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})}function d(t){return sessionStorage.getItem("Authorization")&&o(sessionStorage.getItem("Authorization")),$http.get(_+"/annualTicket/order/list/"+t+"?"+Math.random()).then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})}function l(t){return sessionStorage.getItem("Authorization")&&o(sessionStorage.getItem("Authorization")),$http.post(_+"/v1/open/queryOrder",t).then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})}function f(t){return sessionStorage.getItem("Authorization")&&o(sessionStorage.getItem("Authorization")),$http.post(_+"/manager/order/entranceTicket/list",t).then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})}function m(t){return sessionStorage.getItem("Authorization")&&o(sessionStorage.getItem("Authorization")),$http.get(_+"/manager/order/entranceTicket/details/"+t).then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})}function h(t){return sessionStorage.getItem("Authorization")&&o(sessionStorage.getItem("Authorization")),$http.post(_+"/manager/order/annualTicket/list",t).then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})}function p(t){return sessionStorage.getItem("Authorization")&&o(sessionStorage.getItem("Authorization")),$http.get(_+"/manager/order/annualTicket/details/"+t).then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})}function v(t){return sessionStorage.getItem("Authorization")&&o(sessionStorage.getItem("Authorization")),$http.post(_+"/wx/pay",t).then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})}Object.defineProperty(e,"__esModule",{value:!0}),e.getSessionId=n,e.info=r,e.annualTicket=i,e.annualTicketDetail=a,e.annualTicketPay=s,e.annualTicketCancel=u,e.annualTicketDelete=c,e.annualTicketList=d,e.annualTicketStatus=l,e.orderList=f,e.orderDetail=m,e.annualList=h,e.annualDetail=p,e.getLocalIp=v;var _=window.CONFIG.DEV?window.CONFIG.API_DEV:window.CONFIG.API_HOST,g=function(t){alert(t)};$http.defaults.headers.Authorization=sessionStorage.getItem("Authorization");var I={SUCCESS:"0",TIMEOUT:"500",TOKEN_INVALID:"5001",CODE_INVALID:"5002"};$http.interceptors.response.use(function(t){var e=t.meta&&t.meta.code+"";switch(e){case I.SUCCESS:return t;case I.TOKEN_INVALID:case I.CODE_INVALID:return sessionStorage.removeItem("Authorization"),$http.defaults.headers.Authorization=void 0,g(t.meta.message||"当前会话已过期"),setTimeout(function(){window.location.href="toon://mwap/window?params="+JSON.stringify({functionType:1})},2e3),Promise.reject(t);default:return Promise.reject(t)}},function(t){return Promise.reject(t)})},69:function(t,e,n){n(94),n(95);var o=n(3)(n(81),n(115),"data-v-1d2254ce",null);t.exports=o.exports},81:function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(89),i=o(r);e.default=i.default},89:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),r=n(4);e.default={data:function(){return{orderInfo:{},ticketList:[],defaultNum:"─ ─"}},methods:{GetOrderDetail:function(){var t=this,e=this.$route.query.epOrderNo;(0,o.orderDetail)(e).then(function(e){if(0===e.meta.code){var n=e.data,o=t.flagMap();t.orderInfo=n.orderInfo,o.forEach(function(t){Object.keys(t).forEach(function(e){n.orderInfo.flag===parseInt(e)&&(n.orderInfo.flag=t[e])})}),n.orderInfo.addTime=(0,r.dateFormat)("yyyy-MM-dd hh:mm:ss",n.orderInfo.addTime),n.orderInfo.payTime&&(n.orderInfo.payTime=(0,r.dateFormat)("yyyy-MM-dd hh:mm:ss",n.orderInfo.payTime)),t.ticketList=n.ticketList,n.ticketList.forEach(function(t){null===t.changeTime&&null===t.refundTime||(t.changeTime=(0,r.dateFormat)("yyyy-MM-dd hh:mm:ss",t.changeTime),t.refundTime=(0,r.dateFormat)("yyyy-MM-dd hh:mm:ss",t.refundTime)),o.forEach(function(e){Object.keys(e).forEach(function(n){t.flag===parseInt(n)&&(t.flag=e[n])})})})}}).catch(function(t){})},flagMap:function(){return[{1:"未支付",2:"已支付",3:"已退票",4:"未支付",5:"已取票不允许退",6:"已取票可退",7:"已改签",8:"已过期",9:"异常订单"}]}},mounted:function(){this.GetOrderDetail()}}},94:function(t,e){},95:function(t,e){},115:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[t._m(0),t._v(" "),n("div",{staticClass:"content"},[n("div",{staticClass:"content-wrapper"},[n("Row",{staticStyle:{"border-top":"1px solid #EAEDF1","line-height":"54px"}},[n("Col",{attrs:{span:"6"}},[t._v("订单号："),n("span",[t._v(t._s(t.orderInfo.epOrderNo||t.defaultNum))])]),t._v(" "),n("Col",{attrs:{span:"6"}},[t._v("账户："),n("span",[t._v(t._s(t.orderInfo.mobile||t.defaultNum))])]),t._v(" "),n("Col",{attrs:{span:"6"}},[t._v("订单状态："),n("span",[t._v(t._s(t.orderInfo.flag||t.defaultNum))])])],1),t._v(" "),n("Row",{staticStyle:{"border-top":"1px solid #EAEDF1","line-height":"54px"}},[n("Col",{attrs:{span:"6"}},[t._v("下单时间："),n("span",[t._v(t._s(t.orderInfo.addTime||t.defaultNum))])]),t._v(" "),n("Col",{attrs:{span:"6"}},[t._v("购票人："),n("span",[t._v(t._s(t.orderInfo.cnName||t.defaultNum))])]),t._v(" "),n("Col",{attrs:{span:"6"}},[t._v("支付时间："),n("span",[t._v(t._s(t.orderInfo.payTime||t.defaultNum))])])],1),t._v(" "),n("Row",{staticStyle:{"border-top":"1px solid #EAEDF1"}},[n("Col",{attrs:{span:"6"}},[t._v("订单金额："),n("span",[t._v(t._s(t.orderInfo.amount||t.defaultNum))])]),t._v(" "),n("Col",{attrs:{span:"6"}},[t._v("证件类型："),n("span",[t._v(t._s(t.orderInfo.epOrderNo||t.defaultNum))])]),t._v(" "),n("Col",{attrs:{span:"6"}},[t._v("实付金额："),n("span",[t._v(t._s(t.orderInfo.amount||t.defaultNum))])])],1),t._v(" "),n("Row",{staticStyle:{"border-top":"1px solid #EAEDF1","border-bottom":"1px solid #EAEDF1","line-height":"54px"}},[n("Col",{attrs:{span:"6"}},[t._v("证件号："),n("span",[t._v(t._s(t.orderInfo.epOrderNo||t.defaultNum))])])],1),t._v(" "),t._l(t.ticketList,function(e,o){return n("div",{key:o},[n("h3",[n("span",[t._v("门票信息："+t._s(e.ticketName||t.defaultNum))])]),t._v(" "),n("Row",{staticStyle:{"border-top":"1px solid #EAEDF1","line-height":"54px"}},[n("Col",{attrs:{span:"6"}},[t._v("票名："),n("span",[t._v(t._s(e.ticketName||t.defaultNum))])]),t._v(" "),n("Col",{attrs:{span:"6"}},[t._v("门票状态："),n("span",[t._v(t._s(e.flag||t.defaultNum))])])],1),t._v(" "),n("Row",{staticStyle:{"border-top":"1px solid #EAEDF1","line-height":"54px"}},[n("Col",{attrs:{span:"6"}},[t._v("票类型："),n("span",[t._v(t._s(e.ticketType||t.defaultNum))])]),t._v(" "),n("Col",{attrs:{span:"6"}},[t._v("改签/退票时间：\n            "),null!==e.changeTime?n("span",[t._v(t._s(e.changeTime))]):null!==e.refundTime||null!==e.changeTime&&null!==e.refundTime?n("span",[t._v(t._s(e.refundTime))]):n("span",[t._v(t._s(t.defaultNum))])])],1),t._v(" "),n("Row",{staticStyle:{"border-top":"1px solid #EAEDF1"}},[n("Col",{attrs:{span:"6"}},[t._v("票价格："),n("span",[t._v(t._s(e.singlePrice||t.defaultNum))])]),t._v(" "),n("Col",{attrs:{span:"6"}},[t._v("游览日期："),n("span",[t._v(t._s(e.useTime||t.defaultNum))])])],1),t._v(" "),n("Row",{staticStyle:{"border-top":"1px solid #EAEDF1","border-bottom":"1px solid #EAEDF1","line-height":"54px"}},[n("Col",{attrs:{span:"6"}},[t._v("人数："),n("span",[t._v(t._s(e.manNum||t.defaultNum))])])],1)],1)})],2)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tabButton"},[n("div",{staticClass:"left"},[n("i"),n("span",[t._v("订单查询")])]),t._v(" "),n("div",{staticClass:"right"})])}]}}});