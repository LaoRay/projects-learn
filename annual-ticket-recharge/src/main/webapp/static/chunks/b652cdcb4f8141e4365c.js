webpackJsonp([2],{2:function(t,e){"use strict";function n(t,e,n){function o(t,n){return sessionStorage.setItem("Authorization",t),$http.defaults.headers.Authorization=t,e&&e(n)}return sessionStorage.getItem("Authorization")?o(sessionStorage.getItem("Authorization")):void $http.post(v+"/v1/open/getSessionId",{code:t}).then(function(t){return o(t.data&&t.data.sessionId,t)}).catch(function(t){return _("当前会话已过期"),n&&n(t)})}function o(t){$http.defaults.headers.Authorization=t}function r(t){return sessionStorage.getItem("Authorization")&&o(sessionStorage.getItem("Authorization")),$http.get(v+"/user/info",t).then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})}function i(t){return sessionStorage.getItem("Authorization")&&o(sessionStorage.getItem("Authorization")),$http.post(v+"/annualTicket/order/add",t).then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})}function a(t){return sessionStorage.getItem("Authorization")&&o(sessionStorage.getItem("Authorization")),$http.get(v+"/annualTicket/order/details/"+t+"?"+Math.random()).then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})}function s(t){return sessionStorage.getItem("Authorization")&&o(sessionStorage.getItem("Authorization")),$http.post(v+"/v1/open/pay",t).then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})}function u(t){return sessionStorage.getItem("Authorization")&&o(sessionStorage.getItem("Authorization")),$http.post(v+"/annualTicket/order/cancel",t).then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})}function c(t){return sessionStorage.getItem("Authorization")&&o(sessionStorage.getItem("Authorization")),$http.post(v+"/annualTicket/order/delete",t).then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})}function l(t){return sessionStorage.getItem("Authorization")&&o(sessionStorage.getItem("Authorization")),$http.get(v+"/annualTicket/order/list/"+t+"?"+Math.random()).then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})}function d(t){return sessionStorage.getItem("Authorization")&&o(sessionStorage.getItem("Authorization")),$http.post(v+"/v1/open/queryOrder",t).then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})}function h(t){return sessionStorage.getItem("Authorization")&&o(sessionStorage.getItem("Authorization")),$http.post(v+"/manager/order/entranceTicket/list",t).then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})}function p(t){return sessionStorage.getItem("Authorization")&&o(sessionStorage.getItem("Authorization")),$http.get(v+"/manager/order/entranceTicket/details/"+t).then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})}function m(t){return sessionStorage.getItem("Authorization")&&o(sessionStorage.getItem("Authorization")),$http.post(v+"/manager/order/annualTicket/list",t).then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})}function f(t){return sessionStorage.getItem("Authorization")&&o(sessionStorage.getItem("Authorization")),$http.get(v+"/manager/order/annualTicket/details/"+t).then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})}function g(t){return sessionStorage.getItem("Authorization")&&o(sessionStorage.getItem("Authorization")),$http.post(v+"/wx/pay",t).then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})}Object.defineProperty(e,"__esModule",{value:!0}),e.getSessionId=n,e.info=r,e.annualTicket=i,e.annualTicketDetail=a,e.annualTicketPay=s,e.annualTicketCancel=u,e.annualTicketDelete=c,e.annualTicketList=l,e.annualTicketStatus=d,e.orderList=h,e.orderDetail=p,e.annualList=m,e.annualDetail=f,e.getLocalIp=g;var v=window.CONFIG.DEV?window.CONFIG.API_DEV:window.CONFIG.API_HOST,_=function(t){alert(t)};$http.defaults.headers.Authorization=sessionStorage.getItem("Authorization");var A={SUCCESS:"0",TIMEOUT:"500",TOKEN_INVALID:"5001",CODE_INVALID:"5002"};$http.interceptors.response.use(function(t){var e=t.meta&&t.meta.code+"";switch(e){case A.SUCCESS:return t;case A.TOKEN_INVALID:case A.CODE_INVALID:return sessionStorage.removeItem("Authorization"),$http.defaults.headers.Authorization=void 0,_(t.meta.message||"当前会话已过期"),setTimeout(function(){window.location.href="toon://mwap/window?params="+JSON.stringify({functionType:1})},2e3),Promise.reject(t);default:return Promise.reject(t)}},function(t){return Promise.reject(t)})},68:function(t,e,n){n(102),n(103);var o=n(3)(n(79),n(123),"data-v-8185568a",null);t.exports=o.exports},79:function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(87),i=o(r);e.default=i.default},87:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),r=n(4);e.default={data:function(){return{detailList:{}}},methods:{getAnnualDetail:function(){var t=this,e=this.$route.query.epOrderNo;(0,o.annualDetail)(e).then(function(e){if(0===e.meta.code){t.detailList=e.data;var n=t.flagMap();e.data.addTime=(0,r.dateFormat)("yyyy-MM-dd hh:mm:ss",e.data.addTime),null!==e.data.payTime&&(e.data.payTime=(0,r.dateFormat)("yyyy-MM-dd hh:mm:ss",e.data.payTime)),n.forEach(function(t){Object.keys(t).forEach(function(n){e.data.flag===parseInt(n)&&(e.data.flag=t[n])})})}}).catch(function(t){})},flagMap:function(){return[{1:"未支付",2:"已支付",3:"已失效",4:"已取消",9:"异常订单"}]}},mounted:function(){this.getAnnualDetail()}}},102:function(t,e){},103:function(t,e){},123:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[t._m(0),t._v(" "),n("div",{staticClass:"content"},[n("div",{staticClass:"content-wrapper"},[n("Row",{staticStyle:{"border-top":"1px solid #EAEDF1","line-height":"54px"}},[n("Col",{attrs:{span:"6"}},[t._v("订单号："),n("span",[t._v(t._s(t.detailList.epOrderNo))])]),t._v(" "),n("Col",{attrs:{span:"6"}},[t._v("订单状态："),n("span",[t._v(t._s(t.detailList.flag))])])],1),t._v(" "),n("Row",{staticStyle:{"border-top":"1px solid #EAEDF1","line-height":"54px"}},[n("Col",{attrs:{span:"6"}},[t._v("下单时间："),n("span",[t._v(t._s(t.detailList.addTime))])]),t._v(" "),n("Col",{attrs:{span:"6"}},[t._v("支付时间："),n("span",[t._v(t._s(t.detailList.payTime))])])],1),t._v(" "),n("Row",{staticStyle:{"border-top":"1px solid #EAEDF1"}},[n("Col",{attrs:{span:"6"}},[t._v("订单金额："),n("span",[t._v(t._s(t.detailList.amount))])]),t._v(" "),n("Col",{attrs:{span:"6"}},[t._v("实付金额："),n("span",[t._v(t._s(t.detailList.amount))])])],1),t._v(" "),n("h3",[n("span",[t._v("年票信息："+t._s(t.detailList.cardName))])]),t._v(" "),n("Row",{staticStyle:{"border-top":"1px solid #EAEDF1","line-height":"54px"}},[n("Col",{attrs:{span:"6"}},[t._v("账户："),n("span",[t._v(t._s(t.detailList.mobile))])]),t._v(" "),n("Col",{attrs:{span:"6"}},[t._v("卡类型："),n("span",[t._v(t._s(t.detailList.cardType))])])],1),t._v(" "),n("Row",{staticStyle:{"border-top":"1px solid #EAEDF1","line-height":"54px"}},[n("Col",{attrs:{span:"6"}},[t._v("购票人："),n("span",[t._v(t._s(t.detailList.cnName))])]),t._v(" "),n("Col",{attrs:{span:"6"}},[t._v("年票价格："),n("span",[t._v(t._s(t.detailList.amount))])])],1),t._v(" "),n("Row",{staticStyle:{"border-top":"1px solid #EAEDF1"}},[n("Col",{attrs:{span:"6"}},[t._v("证件类型："),n("span",[t._v("身份证")])]),t._v(" "),n("Col",{attrs:{span:"6"}},[t._v("有效期至："),n("span",[t._v(t._s(t.detailList.validTerm))])])],1),t._v(" "),n("Row",{staticStyle:{"border-top":"1px solid #EAEDF1","border-bottom":"1px solid #EAEDF1","line-height":"54px"}},[n("Col",{attrs:{span:"6"}},[t._v("证件号："),n("span",[t._v(t._s(t.detailList.idCard))])])],1)],1)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tabButton"},[n("div",{staticClass:"left"},[n("i"),n("span",[t._v("订单查询")])]),t._v(" "),n("div",{staticClass:"right"})])}]}}});