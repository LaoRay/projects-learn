webpackJsonp([10],{2:function(t,e){"use strict";function n(t,e,n){function o(t,n){return sessionStorage.setItem("Authorization",t),$http.defaults.headers.Authorization=t,e&&e(n)}return sessionStorage.getItem("Authorization")?o(sessionStorage.getItem("Authorization")):void $http.post(v+"/v1/open/getSessionId",{code:t}).then(function(t){return o(t.data&&t.data.sessionId,t)}).catch(function(t){return I("当前会话已过期"),n&&n(t)})}function o(t){$http.defaults.headers.Authorization=t}function r(t){return sessionStorage.getItem("Authorization")&&o(sessionStorage.getItem("Authorization")),$http.get(v+"/user/info",t).then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})}function i(t){return sessionStorage.getItem("Authorization")&&o(sessionStorage.getItem("Authorization")),$http.post(v+"/annualTicket/order/add",t).then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})}function a(t){return sessionStorage.getItem("Authorization")&&o(sessionStorage.getItem("Authorization")),$http.get(v+"/annualTicket/order/details/"+t+"?"+Math.random()).then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})}function s(t){return sessionStorage.getItem("Authorization")&&o(sessionStorage.getItem("Authorization")),$http.post(v+"/v1/open/pay",t).then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})}function u(t){return sessionStorage.getItem("Authorization")&&o(sessionStorage.getItem("Authorization")),$http.post(v+"/annualTicket/order/cancel",t).then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})}function c(t){return sessionStorage.getItem("Authorization")&&o(sessionStorage.getItem("Authorization")),$http.post(v+"/annualTicket/order/delete",t).then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})}function h(t){return sessionStorage.getItem("Authorization")&&o(sessionStorage.getItem("Authorization")),$http.get(v+"/annualTicket/order/list/"+t+"?"+Math.random()).then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})}function l(t){return sessionStorage.getItem("Authorization")&&o(sessionStorage.getItem("Authorization")),$http.post(v+"/v1/open/queryOrder",t).then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})}function m(t){return sessionStorage.getItem("Authorization")&&o(sessionStorage.getItem("Authorization")),$http.post(v+"/manager/order/entranceTicket/list",t).then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})}function d(t){return sessionStorage.getItem("Authorization")&&o(sessionStorage.getItem("Authorization")),$http.get(v+"/manager/order/entranceTicket/details/"+t).then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})}function g(t){return sessionStorage.getItem("Authorization")&&o(sessionStorage.getItem("Authorization")),$http.post(v+"/manager/order/annualTicket/list",t).then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})}function f(t){return sessionStorage.getItem("Authorization")&&o(sessionStorage.getItem("Authorization")),$http.get(v+"/manager/order/annualTicket/details/"+t).then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})}function p(t){return sessionStorage.getItem("Authorization")&&o(sessionStorage.getItem("Authorization")),$http.post(v+"/wx/pay",t).then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})}Object.defineProperty(e,"__esModule",{value:!0}),e.getSessionId=n,e.info=r,e.annualTicket=i,e.annualTicketDetail=a,e.annualTicketPay=s,e.annualTicketCancel=u,e.annualTicketDelete=c,e.annualTicketList=h,e.annualTicketStatus=l,e.orderList=m,e.orderDetail=d,e.annualList=g,e.annualDetail=f,e.getLocalIp=p;var v=window.CONFIG.DEV?window.CONFIG.API_DEV:window.CONFIG.API_HOST,I=function(t){alert(t)};$http.defaults.headers.Authorization=sessionStorage.getItem("Authorization");var S={SUCCESS:"0",TIMEOUT:"500",TOKEN_INVALID:"5001",CODE_INVALID:"5002"};$http.interceptors.response.use(function(t){var e=t.meta&&t.meta.code+"";switch(e){case S.SUCCESS:return t;case S.TOKEN_INVALID:case S.CODE_INVALID:return sessionStorage.removeItem("Authorization"),$http.defaults.headers.Authorization=void 0,I(t.meta.message||"当前会话已过期"),setTimeout(function(){window.location.href="toon://mwap/window?params="+JSON.stringify({functionType:1})},2e3),Promise.reject(t);default:return Promise.reject(t)}},function(t){return Promise.reject(t)})},61:function(t,e,n){n(98);var o=n(3)(n(72),n(118),"data-v-2e2b7fdc",null);t.exports=o.exports},72:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(2);e.default={data:function(){return{}},methods:{goPay:function(){if(navigator.onLine){if("1"==$util.getQueryString("a"))var t=$util.sessionData("data").orderNo,e={orderNo:$util.sessionData("data").epOrderNo,orderAmount:$util.sessionData("data").amount,payTypeEnum:"weChat",orderName:$util.sessionData("data").cardName,sceneInfo:'{"h5_info": {"type":"Wap","wap_url": "chengdeannuticket.zhengtoon.com","wap_name": "年票充值"}}',t:{spbillCreateIp:returnCitySN.cip}};else var t=$util.sessionData("dataPay").orderNo,e={orderNo:$util.sessionData("dataPay").epOrderNo,orderAmount:$util.sessionData("dataPay").amount,payTypeEnum:"weChat",orderName:$util.sessionData("dataPay").cardName,sceneInfo:'{"h5_info": {"type":"Wap","wap_url": "chengdeannuticket.zhengtoon.com","wap_name": "年票充值"}}',t:{spbillCreateIp:returnCitySN.cip}};console.log(e),(0,o.annualTicketPay)(e).then(function(n){0==n.meta.code&&($util.sessionData("eporder",e.orderNo),$util.sessionData("orderNo",t),console.log(n.data.mwebUrl),window.open(n.data.mwebUrl,"_self"))}).catch(function(t){})}else $util.Toast("请检查网络设置并稍后重试")}},mounted:function(){$util.setTitle("收银台")}}},98:function(t,e){},118:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"moneyPage"},[t._m(0),t._v(" "),t._m(1),t._v(" "),n("div",{staticClass:"footerPay",on:{click:t.goPay}},[t._v("\n\t\t支付\n\t")])])},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"chengeList"},[n("div",{staticClass:"hairline-bottom"},[n("span",[t._v("商品名称")]),t._v(" "),n("span",[t._v("避暑山庄景区-普通年票")])]),t._v(" "),n("div",[n("span",[t._v("支付金额")]),t._v(" "),n("span",{staticStyle:{color:"#DF3031"}},[t._v("50.00元")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"payChose"},[n("div",{staticClass:"weixin"}),t._v(" "),n("div",{staticClass:"text"},[n("p",[t._v("微信支付")]),t._v(" "),n("p",[t._v("微信快捷支付")])]),t._v(" "),n("span",{staticClass:"icon"})])}]}}});