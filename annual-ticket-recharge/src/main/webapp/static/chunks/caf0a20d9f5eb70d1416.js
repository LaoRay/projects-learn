webpackJsonp([0],{2:function(t,e){"use strict";function n(t,e,n){function o(t,n){return sessionStorage.setItem("Authorization",t),$http.defaults.headers.Authorization=t,e&&e(n)}return sessionStorage.getItem("Authorization")?o(sessionStorage.getItem("Authorization")):void $http.post(v+"/v1/open/getSessionId",{code:t}).then(function(t){return o(t.data&&t.data.sessionId,t)}).catch(function(t){return I("当前会话已过期"),n&&n(t)})}function o(t){$http.defaults.headers.Authorization=t}function a(t){return sessionStorage.getItem("Authorization")&&o(sessionStorage.getItem("Authorization")),$http.get(v+"/user/info",t).then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})}function r(t){return sessionStorage.getItem("Authorization")&&o(sessionStorage.getItem("Authorization")),$http.post(v+"/annualTicket/order/add",t).then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})}function i(t){return sessionStorage.getItem("Authorization")&&o(sessionStorage.getItem("Authorization")),$http.get(v+"/annualTicket/order/details/"+t+"?"+Math.random()).then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})}function s(t){return sessionStorage.getItem("Authorization")&&o(sessionStorage.getItem("Authorization")),$http.post(v+"/v1/open/pay",t).then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})}function u(t){return sessionStorage.getItem("Authorization")&&o(sessionStorage.getItem("Authorization")),$http.post(v+"/annualTicket/order/cancel",t).then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})}function c(t){return sessionStorage.getItem("Authorization")&&o(sessionStorage.getItem("Authorization")),$http.post(v+"/annualTicket/order/delete",t).then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})}function f(t){return sessionStorage.getItem("Authorization")&&o(sessionStorage.getItem("Authorization")),$http.get(v+"/annualTicket/order/list/"+t+"?"+Math.random()).then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})}function d(t){return sessionStorage.getItem("Authorization")&&o(sessionStorage.getItem("Authorization")),$http.post(v+"/v1/open/queryOrder",t).then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})}function l(t){return sessionStorage.getItem("Authorization")&&o(sessionStorage.getItem("Authorization")),$http.post(v+"/manager/order/entranceTicket/list",t).then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})}function g(t){return sessionStorage.getItem("Authorization")&&o(sessionStorage.getItem("Authorization")),$http.get(v+"/manager/order/entranceTicket/details/"+t).then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})}function h(t){return sessionStorage.getItem("Authorization")&&o(sessionStorage.getItem("Authorization")),$http.post(v+"/manager/order/annualTicket/list",t).then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})}function m(t){return sessionStorage.getItem("Authorization")&&o(sessionStorage.getItem("Authorization")),$http.get(v+"/manager/order/annualTicket/details/"+t).then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})}function p(t){return sessionStorage.getItem("Authorization")&&o(sessionStorage.getItem("Authorization")),$http.post(v+"/wx/pay",t).then(function(t){return Promise.resolve(t)}).catch(function(t){return Promise.reject(t)})}Object.defineProperty(e,"__esModule",{value:!0}),e.getSessionId=n,e.info=a,e.annualTicket=r,e.annualTicketDetail=i,e.annualTicketPay=s,e.annualTicketCancel=u,e.annualTicketDelete=c,e.annualTicketList=f,e.annualTicketStatus=d,e.orderList=l,e.orderDetail=g,e.annualList=h,e.annualDetail=m,e.getLocalIp=p;var v=window.CONFIG.DEV?window.CONFIG.API_DEV:window.CONFIG.API_HOST,I=function(t){alert(t)};$http.defaults.headers.Authorization=sessionStorage.getItem("Authorization");var _={SUCCESS:"0",TIMEOUT:"500",TOKEN_INVALID:"5001",CODE_INVALID:"5002"};$http.interceptors.response.use(function(t){var e=t.meta&&t.meta.code+"";switch(e){case _.SUCCESS:return t;case _.TOKEN_INVALID:case _.CODE_INVALID:return sessionStorage.removeItem("Authorization"),$http.defaults.headers.Authorization=void 0,I(t.meta.message||"当前会话已过期"),setTimeout(function(){window.location.href="toon://mwap/window?params="+JSON.stringify({functionType:1})},2e3),Promise.reject(t);default:return Promise.reject(t)}},function(t){return Promise.reject(t)})},57:function(t,e,n){t.exports=n.p+"static/images/noPay@2x.cdfeed3.png"},64:function(t,e,n){n(104);var o=n(3)(n(75),n(124),"data-v-a03db45c",null);t.exports=o.exports},75:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(2),a=n(4);e.default={data:function(){return{dataInfo:{},orderTime:"",payFlag:0,epOrderNoFir:""}},mounted:function(){$util.setTitle("订单详情"),this.annualTicketFun()},methods:{annualTicketFun:function(){var t=this,e=$util.sessionData("orderNoDtail");(0,o.annualTicketDetail)(e).then(function(e){"0"==e.meta.code&&(console.log(e),t.dataInfo=e.data,t.orderTime=(0,a.setTime)(t.dataInfo.addTime))}).catch(function(t){console.log(t)})},annualTicketDeleteFun:function(){var t={epOrderNo:this.dataInfo.epOrderNo};(0,o.annualTicketDelete)(t).then(function(t){"0"==t.meta.code&&window.history.go(-1)}).catch(function(t){})},deletOder:function(){navigator.onLine?this.annualTicketDeleteFun():$util.Toast("请检查网络设置并稍后再试")},goPay:function(){navigator.onLine?($util.sessionData("dataPay",this.dataInfo),this.$router.push({name:"collectMoney"})):$util.Toast("请检查网络设置并稍后重试")}}}},104:function(t,e){},109:function(t,e,n){t.exports=n.p+"static/images/paysucces@2x.bef9900.png"},110:function(t,e,n){t.exports=n.p+"static/images/shixiao@2x.f976c01.png"},124:function(t,e,n){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"detailPage"},[o("div",{staticClass:"orderStatus"},[o("div",[2==t.dataInfo.flag?o("p",[o("img",{attrs:{src:n(109)}})]):t._e(),t._v(" "),1==t.dataInfo.flag?o("p",[o("img",{attrs:{src:n(57)}})]):t._e(),t._v(" "),3==t.dataInfo.flag||4==t.dataInfo.flag||9==t.dataInfo.flag?o("p",[o("img",{attrs:{src:n(110)}})]):t._e()]),t._v(" "),3==t.dataInfo.flag?o("p",{staticClass:"textOder"},[t._v("订单已失效")]):t._e(),t._v(" "),2==t.dataInfo.flag?o("p",{staticClass:"textOder"},[t._v("已支付")]):t._e(),t._v(" "),1==t.dataInfo.flag?o("p",{staticClass:"textOder"},[t._v("订单未支付")]):t._e(),t._v(" "),4==t.dataInfo.flag?o("p",{staticClass:"textOder"},[t._v("订单已取消")]):t._e(),t._v(" "),9==t.dataInfo.flag?o("p",{staticClass:"textOder"},[t._v("订单异常")]):t._e()]),t._v(" "),o("div",{staticClass:"orderList"},[o("p",[o("span",[t._v("订单状态")]),o("span",[t._v(t._s(1==t.dataInfo.flag?"未支付":2==t.dataInfo.flag?"已支付":3==t.dataInfo.flag?"已失效":4==t.dataInfo.flag?"已取消":"订单异常"))])]),t._v(" "),o("p",[o("span",[t._v("订单号")]),o("span",[t._v(t._s(t.dataInfo.epOrderNo))])]),t._v(" "),o("p",[o("span",[t._v("订单金额")]),o("span",[t._v(" "+t._s(t.dataInfo.amount)+".00元")])]),t._v(" "),o("p",[o("span",[t._v("下单时间")]),o("span",[t._v(t._s(t.orderTime))])])]),t._v(" "),o("div",{staticClass:"yearDetail"},[o("div",{staticClass:"title"},[t._v(t._s(t.dataInfo.cardName))]),t._v(" "),o("p",[o("span",[t._v("年票金额")]),o("span",[t._v(t._s(t.dataInfo.amount)+".00元")])]),t._v(" "),o("p",[o("span",[t._v("姓名")]),o("span",[t._v(t._s(t.dataInfo.cnName))])]),t._v(" "),o("p",[o("span",[t._v("身份证号")]),o("span",[t._v(t._s(t.dataInfo.idCard))])]),t._v(" "),o("p",[o("span",[t._v("有效期至")]),o("span",[t._v(t._s(t.dataInfo.validTerm))])])]),t._v(" "),1==t.dataInfo.flag?o("div",{staticClass:"footerPay",on:{click:t.goPay}},[t._v("\n\t\t去支付\n\t")]):o("div",{staticClass:"footerDetail"},[o("div",{staticClass:"delete",on:{click:t.deletOder}},[t._v("删除订单")])])])},staticRenderFns:[]}}});